{"version":3,"sources":["components/Header.js","config.js","context/AppReducer.js","context/GlobalState.js","utils/format.js","components/Balance.js","components/IncomeExpenses.js","components/Transaction.js","components/TransactionList.js","components/AddTransaction.js","App.js","index.js"],"names":["Header","actions","AppReducer","state","action","type","transactions","filter","transaction","_id","payload","loading","error","initialState","GlobalContext","createContext","GlobalProvider","children","useReducer","dispatch","a","axios","get","response","data","console","log","id","delete","config","headers","post","newTransaction","Provider","value","deleteTransaction","addTransaction","getTransactions","numberWithCommas","x","toString","replace","Balance","total","useContext","map","amount","reduce","acc","item","toFixed","IncomeExpenses","amounts","income","finalIncome","length","expense","finalExpense","Math","abs","className","Transaction","props","text","sign","onClick","TransactionList","useEffect","AddTransaction","useState","setText","setAmount","onSubmit","e","preventDefault","uuidv1","parseInt","time","Date","getTime","htmlFor","onChange","target","placeholder","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"mKAEaA,EAAS,WAClB,OACI,oD,6CCJKC,EACW,qBADXA,EAEQ,kBAFRA,EAGS,mBAHTA,EAIe,yBC8BbC,EAhCI,SAACC,EAAOC,GACvB,OAAQA,EAAOC,MACX,KAAKJ,EACD,OAAO,2BACAE,GADP,IAEIG,aAAcH,EAAMG,aAAaC,QAAO,SAACC,GAAD,OAAiBA,EAAYC,MAAQL,EAAOM,aAG5F,KAAKT,EACD,OAAO,2BACAE,GADP,IAEIG,aAAa,GAAD,mBAAMH,EAAMG,cAAZ,CAA0BF,EAAOM,YAGrD,KAAKT,EACD,OAAO,2BACAE,GADP,IAEIQ,SAAS,EACTL,aAAcF,EAAOM,UAG7B,KAAKT,EACD,OAAO,2BACAE,GADP,IAEIS,MAAOR,EAAOM,UAGtB,QACI,OAAOP,I,gBCzBbU,EAAe,CACjBP,aAAc,GACdM,MAAO,KACPD,SAAS,GAIAG,EAAgBC,wBAAcF,GAK9BG,EAAiB,SAAC,GAAkB,IAAhBC,EAAe,EAAfA,SAAe,EAElBC,qBAAWhB,EAAYW,GAFL,mBAErCV,EAFqC,KAE9BgB,EAF8B,iDAM5C,4BAAAC,EAAA,+EAG+BC,IAAMC,IAAI,wBAHzC,OAGcC,EAHd,OAKQJ,EAAS,CACLd,KAAM,mBACNK,QAASa,EAASC,KAAKA,OAPnC,gDAUQC,QAAQC,IAAR,MACAP,EAAS,CACLd,KAAM,yBACNK,QAAS,KAAMa,SAASC,KAAKZ,QAbzC,0DAN4C,kEA0B5C,WAAiCe,GAAjC,SAAAP,EAAA,+EAEcC,IAAMO,OAAN,+BAAqCD,IAFnD,OAGQR,EAAS,CACLd,KAAMJ,EACNS,QAASiB,IALrB,gDAQQF,QAAQC,IAAR,MACAP,EAAS,CACLd,KAAM,yBACNK,QAAS,KAAMa,SAASC,KAAKZ,QAXzC,0DA1B4C,kEA0C5C,WAA8BJ,GAA9B,iBAAAY,EAAA,6DAEUS,EAAS,CACXC,QAAS,CACL,eAAgB,qBAJ5B,kBASqCT,IAAMU,KAAK,uBAAwBvB,EAAaqB,GATrF,OAScG,EATd,OAUQb,EAAS,CACLd,KAAMJ,EACNS,QAASsB,EAAeR,KAAKA,OAZzC,gDAgBQC,QAAQC,IAAR,MACAP,EAAS,CACLd,KAAM,yBACNK,QAAS,KAAMa,SAASC,KAAKZ,QAnBzC,0DA1C4C,sBAoE5C,OAAQ,cAACE,EAAcmB,SAAf,CAAwBC,MAAO,CACnC5B,aAAcH,EAAMG,aACpBM,MAAOT,EAAMS,MACbD,QAASR,EAAMQ,QACfwB,kBAxEwC,4CAyExCC,eAzEwC,4CA0ExCC,gBA1EwC,4CAoEpC,SAQHpB,KC7FF,SAASqB,EAAiBC,GAC7B,OAAOA,EAAEC,WAAWC,QAAQ,wBAAyB,KCGlD,IAAMC,EAAU,WAAO,IAGpBC,EAFmBC,qBAAW9B,GAA5BR,aACoBuC,KAAI,SAAArC,GAAW,OAAIA,EAAYsC,UACtCC,QAAO,SAACC,EAAKC,GAAN,OAAgBD,EAAOC,IAAO,GAAGC,QAAQ,GAErE,OACI,oCAEI,8CACA,6BAAKZ,EAAiBK,SCRrBQ,EAAiB,WAAO,IAE3BC,EADmBR,qBAAW9B,GAA5BR,aACqBuC,KAAI,SAAArC,GAAW,OAAIA,EAAYsC,UACtDO,EAASD,EAAQ7C,QAAO,SAAA0C,GAAI,OAAIA,EAAO,KACvCK,EAAcD,EAAOE,OAAS,EAAIF,EAAON,QAAO,SAACC,EAAKC,GAAN,OAAgBD,EAAOC,KAAOC,QAAQ,GAAK,EAC3FM,EAAUJ,EAAQ7C,QAAO,SAAA0C,GAAI,OAAIA,EAAO,KACxCQ,EAAeD,EAAQD,OAAS,EAAIC,EAAQT,QAAO,SAACC,EAAKC,GAAN,OAAgBS,KAAKC,IAAIX,GAAOC,MAAQC,QAAQ,GAAK,EAE9G,OACI,sBAAKU,UAAU,oBAAf,UACI,gCACI,wCACA,mBAAGA,UAAU,aAAb,SAA2BtB,EAAiBgB,QAEhD,gCACI,yCACA,mBAAGM,UAAU,cAAb,SAA4BtB,EAAiBmB,YCjBhDI,EAAc,SAACC,GAAW,IAE3B3B,EAAsBS,qBAAW9B,GAAjCqB,kBAF0B,EAIJ2B,EAAMtD,YAA5BuD,EAJ0B,EAI1BA,KAAMjB,EAJoB,EAIpBA,OAAQrC,EAJY,EAIZA,IAChBuD,EAAOlB,EAAS,EAAI,IAAM,IAChC,OACI,qBAAIc,UAAWd,EAAS,EAAI,QAAU,OAAtC,UACKiB,EADL,IACW,qCAAO,+BAAOC,IAAd,IAA4B1B,EAAiBoB,KAAKC,IAAIb,OAC7D,wBAAQc,UAAU,aAAaK,QAAS,kBAAM9B,EAAkB1B,IAAhE,mBCTCyD,EAAkB,WAAO,IAAD,EACStB,qBAAW9B,GAA7CR,EADyB,EACzBA,aAAc+B,EADW,EACXA,gBAMtB,OAJA8B,qBAAU,WACN9B,MACD,IAGC,gCACI,yCACA,oBAAIuB,UAAU,OAAd,SACKtD,EAAauC,KAAI,SAACrC,GAAD,OAAkB,cAAC,EAAD,CAAaA,YAAaA,GAAkBA,EAAYmB,a,QCX/FyC,EAAiB,WAAO,IACzBhC,EAAmBQ,qBAAW9B,GAA9BsB,eADwB,EAERiC,mBAAS,IAFD,mBAEzBN,EAFyB,KAEnBO,EAFmB,OAGJD,mBAAS,GAHL,mBAGzBvB,EAHyB,KAGjByB,EAHiB,KAiBhC,OACI,gCACI,qDACA,uBAAMC,SAfG,SAAAC,GACbA,EAAEC,iBACF,IAAM1C,EAAiB,CACnBL,GAAIgD,cACJZ,OACAjB,OAAQ8B,SAAS9B,GACjB+B,MAAM,IAAIC,MAAOC,WAErB3C,EAAeJ,IAOX,UACI,sBAAK4B,UAAU,eAAf,UACI,uBAAOoB,QAAQ,OAAf,kBACA,uBAAO3E,KAAK,OAAO6B,MAAO6B,EAAMkB,SAAU,SAACR,GAAD,OAAOH,EAAQG,EAAES,OAAOhD,QAAQiD,YAAY,qBAE1F,sBAAKvB,UAAU,eAAf,UACI,wBAAOoB,QAAQ,SAAf,oBACQ,uBADR,2CAIA,uBAAO3E,KAAK,SAAS6B,MAAOY,EAAQmC,SAAU,SAACR,GAAD,OAAOF,EAAUE,EAAES,OAAOhD,QAAQiD,YAAY,uBAEhG,wBAAQvB,UAAU,MAAlB,oC,MCVDwB,MAff,WACE,OACE,eAAC,EAAD,WACE,cAAC,EAAD,IACA,sBAAKxB,UAAU,YAAf,UACE,cAAC,EAAD,IACA,cAAC,EAAD,IACA,cAAC,EAAD,IACA,cAAC,EAAD,WCfRyB,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,W","file":"static/js/main.ca13a427.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nexport const Header = () => {\r\n    return (\r\n        <h2>\r\n            Expense Tracker +\r\n        </h2>\r\n    )\r\n}\r\n","export const actions = {\r\n    DELETE_TRANSACTION: 'DELETE_TRANSACTION',\r\n    ADD_TRANSACTION: 'ADD_TRANSACTION',\r\n    GET_TRANSACTIONS: 'GET_TRANSACTIONS',\r\n    GET_TRANSACTIONS_ERROR: 'GET_TRANSACTIONS_ERROR'\r\n}\r\n","import { actions } from '../config'\r\n\r\nconst AppReducer = (state, action) => {\r\n    switch (action.type) {\r\n        case actions.DELETE_TRANSACTION:\r\n            return {\r\n                ...state,\r\n                transactions: state.transactions.filter((transaction) => transaction._id !== action.payload)\r\n            }\r\n\r\n        case actions.ADD_TRANSACTION:\r\n            return {\r\n                ...state,\r\n                transactions: [...state.transactions, action.payload]\r\n            }\r\n\r\n        case actions.GET_TRANSACTIONS:\r\n            return {\r\n                ...state,\r\n                loading: false,\r\n                transactions: action.payload\r\n            }\r\n\r\n        case actions.GET_TRANSACTIONS_ERROR:\r\n            return {\r\n                ...state,\r\n                error: action.payload\r\n            }\r\n\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport default AppReducer","import React, { createContext, useReducer } from 'react'\r\nimport AppReducer from './AppReducer'\r\nimport { actions } from '../config'\r\nimport axios from \"axios\";\r\n\r\nconst initialState = {\r\n    transactions: [],\r\n    error: null,\r\n    loading: true\r\n}\r\n\r\n// init context \r\nexport const GlobalContext = createContext(initialState)\r\n\r\n\r\n// init provider\r\n\r\nexport const GlobalProvider = ({ children }) => {\r\n\r\n    const [state, dispatch] = useReducer(AppReducer, initialState)\r\n\r\n    // Actions\r\n\r\n    async function getTransactions() {\r\n\r\n        try {\r\n            const response = await axios.get('/api/v1/transactions')\r\n\r\n            dispatch({\r\n                type: 'GET_TRANSACTIONS',\r\n                payload: response.data.data\r\n            })\r\n        } catch (error) {\r\n            console.log(error)\r\n            dispatch({\r\n                type: 'GET_TRANSACTIONS_ERROR',\r\n                payload: error.response.data.error\r\n            })\r\n        }\r\n    }\r\n\r\n\r\n\r\n    async function deleteTransaction(id) {\r\n        try {\r\n            await axios.delete(`/api/v1/transactions/${id}`)\r\n            dispatch({\r\n                type: actions.DELETE_TRANSACTION,\r\n                payload: id\r\n            });\r\n        } catch (error) {\r\n            console.log(error)\r\n            dispatch({\r\n                type: 'GET_TRANSACTIONS_ERROR',\r\n                payload: error.response.data.error\r\n            })\r\n        }\r\n    }\r\n\r\n    async function addTransaction(transaction) {\r\n\r\n        const config = {\r\n            headers: {\r\n                'Content-Type': 'application/json'\r\n            }\r\n        }\r\n\r\n        try {\r\n            const newTransaction = await axios.post('/api/v1/transactions', transaction, config)\r\n            dispatch({\r\n                type: actions.ADD_TRANSACTION,\r\n                payload: newTransaction.data.data\r\n            });\r\n\r\n        } catch (error) {\r\n            console.log(error)\r\n            dispatch({\r\n                type: 'GET_TRANSACTIONS_ERROR',\r\n                payload: error.response.data.error\r\n            })\r\n        }\r\n\r\n\r\n    }\r\n\r\n    return (<GlobalContext.Provider value={{\r\n        transactions: state.transactions,\r\n        error: state.error,\r\n        loading: state.loading,\r\n        deleteTransaction,\r\n        addTransaction,\r\n        getTransactions\r\n    }}>\r\n        {children}\r\n    </GlobalContext.Provider>)\r\n}","export function numberWithCommas(x) {\r\n    return x.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\");\r\n}","import React, { useContext } from 'react'\r\nimport { GlobalContext } from \"../context/GlobalState\";\r\nimport { numberWithCommas } from \"../utils/format\";\r\n\r\nexport const Balance = () => {\r\n    const { transactions } = useContext(GlobalContext)\r\n    const amount = transactions.map(transaction => transaction.amount)\r\n    const total = amount.reduce((acc, item) => (acc += item), 0).toFixed(2)\r\n\r\n    return (\r\n        <section>\r\n\r\n            <h4>Your Balance</h4>\r\n            <h1>{numberWithCommas(total)}</h1>\r\n\r\n        </section>\r\n    )\r\n}\r\n","import React, { useContext } from 'react'\r\nimport { GlobalContext } from \"../context/GlobalState\";\r\n\r\nimport { numberWithCommas } from \"../utils/format\";\r\n\r\nexport const IncomeExpenses = () => {\r\n    const { transactions } = useContext(GlobalContext)\r\n    const amounts = transactions.map(transaction => transaction.amount)\r\n    const income = amounts.filter(item => item > 0)\r\n    const finalIncome = income.length > 0 ? income.reduce((acc, item) => (acc += item)).toFixed(2) : 0\r\n    const expense = amounts.filter(item => item < 0)\r\n    const finalExpense = expense.length > 0 ? expense.reduce((acc, item) => (Math.abs(acc += item))).toFixed(2) : 0\r\n\r\n    return (\r\n        <div className=\"inc-exp-container\">\r\n            <div>\r\n                <h4>Income</h4>\r\n                <p className=\"money plus\">{numberWithCommas(finalIncome)}</p>\r\n            </div>\r\n            <div>\r\n                <h4>Expense</h4>\r\n                <p className=\"money minus\">{numberWithCommas(finalExpense)}</p>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","import React, { useContext } from 'react'\r\nimport { GlobalContext } from \"../context/GlobalState\";\r\nimport { numberWithCommas } from '../utils/format';\r\n\r\nexport const Transaction = (props) => {\r\n\r\n    const { deleteTransaction } = useContext(GlobalContext)\r\n\r\n    const { text, amount, _id } = props.transaction\r\n    const sign = amount > 0 ? '+' : '-'\r\n    return (\r\n        <li className={amount < 0 ? 'minus' : 'plus'}>\r\n            {text} <span> <span>{sign}</span>${numberWithCommas(Math.abs(amount))}</span>\r\n            <button className=\"delete-btn\" onClick={() => deleteTransaction(_id)}>x</button>\r\n        </li>\r\n    )\r\n}\r\n","import React, { useContext, useEffect } from 'react'\r\nimport { GlobalContext } from \"../context/GlobalState\";\r\nimport { Transaction } from './Transaction'\r\n\r\nexport const TransactionList = () => {\r\n    const { transactions, getTransactions } = useContext(GlobalContext)\r\n\r\n    useEffect(() => {\r\n        getTransactions()\r\n    }, [])\r\n\r\n    return (\r\n        <div>\r\n            <h3>History</h3>\r\n            <ul className=\"list\">\r\n                {transactions.map((transaction) => (<Transaction transaction={transaction} key={transaction.id} />\r\n                ))}\r\n\r\n            </ul>\r\n        </div>\r\n    )\r\n}\r\n","import React, { useState, useContext } from 'react'\r\nimport { GlobalContext } from \"../context/GlobalState\";\r\nimport { v1 as uuidv1 } from \"uuid\";\r\n\r\nexport const AddTransaction = () => {\r\n    const { addTransaction } = useContext(GlobalContext)\r\n    const [text, setText] = useState('')\r\n    const [amount, setAmount] = useState(0)\r\n\r\n    const onSubmit = e => {\r\n        e.preventDefault()\r\n        const newTransaction = {\r\n            id: uuidv1(),\r\n            text,\r\n            amount: parseInt(amount),\r\n            time: new Date().getTime()\r\n        }\r\n        addTransaction(newTransaction)\r\n    }\r\n\r\n\r\n    return (\r\n        <div>\r\n            <h3>Add new transaction</h3>\r\n            <form onSubmit={onSubmit}>\r\n                <div className=\"form-control\">\r\n                    <label htmlFor=\"text\">Text</label>\r\n                    <input type=\"text\" value={text} onChange={(e) => setText(e.target.value)} placeholder=\"Enter text...\" />\r\n                </div>\r\n                <div className=\"form-control\">\r\n                    <label htmlFor=\"amount\"\r\n                    >Amount <br />\r\n            (negative: expense, positive: income)</label\r\n                    >\r\n                    <input type=\"number\" value={amount} onChange={(e) => setAmount(e.target.value)} placeholder=\"Enter amount...\" />\r\n                </div>\r\n                <button className=\"btn\">Add transaction</button>\r\n            </form>\r\n        </div>\r\n    )\r\n}\r\n","\nimport React from \"react\";\nimport { Header } from './components/Header'\nimport { Balance } from './components/Balance'\nimport { IncomeExpenses } from './components/IncomeExpenses'\nimport { TransactionList } from './components/TransactionList'\nimport { AddTransaction } from './components/AddTransaction'\n\nimport { GlobalProvider } from './context/GlobalState'\n\nimport './App.css'\nfunction App() {\n  return (\n    <GlobalProvider>\n      <Header />\n      <div className=\"container\">\n        <Balance />\n        <IncomeExpenses />\n        <TransactionList />\n        <AddTransaction />\n      </div>\n\n    </GlobalProvider>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n\n"],"sourceRoot":""}